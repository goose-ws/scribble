services:
  scribble:
    image: goosews/scribble:latest
    container_name: scribble
    restart: unless-stopped
    ports:
      - "12345:12345" # Flask port
    environment:
     # --- Required ---
      GEMINI_API_KEY: "YOUR_GEMINI_API_KEY_HERE"
      DISCORD_WEBHOOK: "YOUR_DISCORD_WEBHOOK_URL_HERE"

      # --- Optional: User/Group Mapping ---
      PUID: "1000"
      PGID: "1000"
      TZ: "America/New_York"
      WEB_PASSWORD: "YOUR_WEB_INTERFACE_PASSWORD_HERE"
      WEB_COOKIE_KEY: "SOME_SECRET_HASH_HERE"

      # --- Optional: Whisper Performance Tuning ---
      OUTPUT_VERBOSITY: "3"
      WHISPER_MODEL: "large-v3"
      WHISPER_THREADS: "24"
      WHISPER_BATCH_SIZE: "24"
      WHISPER_BEAM_SIZE: "3"
      WHISPER_VAD_METHOD: "silero"

      RESPAWN_TIME: "3600" # Check for new files every hour
    volumes:
      - ./app:/app
